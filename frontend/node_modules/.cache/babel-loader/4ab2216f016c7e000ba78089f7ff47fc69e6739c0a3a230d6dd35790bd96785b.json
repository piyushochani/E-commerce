{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useParams,useNavigate}from'react-router-dom';import{productService}from'../../services/productService';import ProductForm from'../../components/seller/ProductForm';import LoadingSpinner from'../../components/common/LoadingSpinner';import ErrorMessage from'../../components/common/ErrorMessage';import{getErrorMessage}from'../../utils/helpers';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const EditProduct=()=>{const{id}=useParams();const navigate=useNavigate();const[product,setProduct]=useState(null);const[loading,setLoading]=useState(true);const[updating,setUpdating]=useState(false);const[error,setError]=useState('');useEffect(()=>{fetchProduct();},[id]);const fetchProduct=async()=>{try{const response=await productService.getProductById(id);setProduct(response.data.product);}catch(err){setError('Failed to load product');}finally{setLoading(false);}};const handleUpdate=async formData=>{setUpdating(true);setError('');try{await productService.updateProduct(id,formData);alert('Product updated successfully!');navigate('/seller/products');}catch(err){setError(getErrorMessage(err));}finally{setUpdating(false);}};if(loading)return/*#__PURE__*/_jsx(LoadingSpinner,{fullScreen:true});if(error)return/*#__PURE__*/_jsx(ErrorMessage,{message:error});if(!product)return/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-12\",children:\"Product not found\"});return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-50 py-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto px-4 max-w-4xl\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold mb-8\",children:\"Edit Product\"}),/*#__PURE__*/_jsx(ErrorMessage,{message:error,onClose:()=>setError('')}),/*#__PURE__*/_jsx(ProductForm,{initialData:product,onSubmit:handleUpdate,loading:updating})]})});};export default EditProduct;","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","productService","ProductForm","LoadingSpinner","ErrorMessage","getErrorMessage","jsx","_jsx","jsxs","_jsxs","EditProduct","id","navigate","product","setProduct","loading","setLoading","updating","setUpdating","error","setError","fetchProduct","response","getProductById","data","err","handleUpdate","formData","updateProduct","alert","fullScreen","message","className","children","onClose","initialData","onSubmit"],"sources":["C:/Users/piyus/OneDrive/Documents/Workspaces/E-commerce/frontend/src/pages/seller/EditProduct.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport { productService } from '../../services/productService';\r\nimport ProductForm from '../../components/seller/ProductForm';\r\nimport LoadingSpinner from '../../components/common/LoadingSpinner';\r\nimport ErrorMessage from '../../components/common/ErrorMessage';\r\nimport { getErrorMessage } from '../../utils/helpers';\r\n\r\nconst EditProduct = () => {\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n  const [product, setProduct] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [updating, setUpdating] = useState(false);\r\n  const [error, setError] = useState('');\r\n\r\n  useEffect(() => {\r\n    fetchProduct();\r\n  }, [id]);\r\n\r\n  const fetchProduct = async () => {\r\n    try {\r\n      const response = await productService.getProductById(id);\r\n      setProduct(response.data.product);\r\n    } catch (err) {\r\n      setError('Failed to load product');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleUpdate = async (formData) => {\r\n    setUpdating(true);\r\n    setError('');\r\n\r\n    try {\r\n      await productService.updateProduct(id, formData);\r\n      alert('Product updated successfully!');\r\n      navigate('/seller/products');\r\n    } catch (err) {\r\n      setError(getErrorMessage(err));\r\n    } finally {\r\n      setUpdating(false);\r\n    }\r\n  };\r\n\r\n  if (loading) return <LoadingSpinner fullScreen />;\r\n  if (error) return <ErrorMessage message={error} />;\r\n  if (!product) return <div className=\"text-center py-12\">Product not found</div>;\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50 py-8\">\r\n      <div className=\"container mx-auto px-4 max-w-4xl\">\r\n        <h1 className=\"text-3xl font-bold mb-8\">Edit Product</h1>\r\n        <ErrorMessage message={error} onClose={() => setError('')} />\r\n        <ProductForm initialData={product} onSubmit={handleUpdate} loading={updating} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EditProduct;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}