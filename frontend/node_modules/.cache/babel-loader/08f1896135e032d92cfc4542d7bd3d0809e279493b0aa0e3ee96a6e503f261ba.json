{"ast":null,"code":"import React,{useState,useEffect}from'react';import{adminService}from'../../services/adminService';import SellerTable from'../../components/admin/SellerTable';import LoadingSpinner from'../../components/common/LoadingSpinner';import ConfirmModal from'../../components/common/ConfirmModal';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SellerManagement=()=>{const[sellers,setSellers]=useState([]);const[loading,setLoading]=useState(true);const[includeBlocked,setIncludeBlocked]=useState(false);const[modalOpen,setModalOpen]=useState(false);const[modalAction,setModalAction]=useState(null);const[selectedSellerId,setSelectedSellerId]=useState(null);const[blockReason,setBlockReason]=useState('');useEffect(()=>{fetchSellers();},[includeBlocked]);const fetchSellers=async()=>{try{const response=await adminService.getAllSellers(includeBlocked);setSellers(response.data.sellers);}catch(error){console.error('Error fetching sellers:',error);}finally{setLoading(false);}};const handleBlockClick=sellerId=>{setSelectedSellerId(sellerId);setModalAction('block');setModalOpen(true);};const handleUnblockClick=sellerId=>{setSelectedSellerId(sellerId);setModalAction('unblock');setModalOpen(true);};const handleConfirmAction=async()=>{try{if(modalAction==='block'){await adminService.blacklistSeller(selectedSellerId,blockReason);alert('Seller blocked successfully');}else{await adminService.unblockSeller(selectedSellerId);alert('Seller unblocked successfully');}fetchSellers();setBlockReason('');}catch(error){alert('Failed to perform action');}};if(loading)return/*#__PURE__*/_jsx(LoadingSpinner,{fullScreen:true});return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-50 py-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto px-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-8\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold\",children:\"Seller Management\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center cursor-pointer\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:includeBlocked,onChange:e=>setIncludeBlocked(e.target.checked),className:\"mr-2\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm\",children:\"Include Blocked Sellers\"})]}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-gray-600\",children:[\"Total: \",sellers.length]})]})]}),sellers.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-md p-12 text-center\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"No sellers found\"})}):/*#__PURE__*/_jsx(SellerTable,{sellers:sellers,onBlock:handleBlockClick,onUnblock:handleUnblockClick}),/*#__PURE__*/_jsx(ConfirmModal,{isOpen:modalOpen,onClose:()=>{setModalOpen(false);setBlockReason('');},onConfirm:handleConfirmAction,title:modalAction==='block'?'Block Seller':'Unblock Seller',message:modalAction==='block'?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"mb-4\",children:\"Are you sure you want to block this seller?\"}),/*#__PURE__*/_jsx(\"textarea\",{value:blockReason,onChange:e=>setBlockReason(e.target.value),placeholder:\"Reason for blocking (optional)\",className:\"w-full px-3 py-2 border border-gray-300 rounded-lg\",rows:\"3\"})]}):'Are you sure you want to unblock this seller?',confirmText:modalAction==='block'?'Block':'Unblock',danger:modalAction==='block'})]})});};export default SellerManagement;","map":{"version":3,"names":["React","useState","useEffect","adminService","SellerTable","LoadingSpinner","ConfirmModal","jsx","_jsx","jsxs","_jsxs","SellerManagement","sellers","setSellers","loading","setLoading","includeBlocked","setIncludeBlocked","modalOpen","setModalOpen","modalAction","setModalAction","selectedSellerId","setSelectedSellerId","blockReason","setBlockReason","fetchSellers","response","getAllSellers","data","error","console","handleBlockClick","sellerId","handleUnblockClick","handleConfirmAction","blacklistSeller","alert","unblockSeller","fullScreen","className","children","type","checked","onChange","e","target","length","onBlock","onUnblock","isOpen","onClose","onConfirm","title","message","value","placeholder","rows","confirmText","danger"],"sources":["C:/Users/piyus/OneDrive/Documents/Workspaces/E-commerce/frontend/src/pages/admin/SellerManagement.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { adminService } from '../../services/adminService';\r\nimport SellerTable from '../../components/admin/SellerTable';\r\nimport LoadingSpinner from '../../components/common/LoadingSpinner';\r\nimport ConfirmModal from '../../components/common/ConfirmModal';\r\n\r\nconst SellerManagement = () => {\r\n  const [sellers, setSellers] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [includeBlocked, setIncludeBlocked] = useState(false);\r\n  const [modalOpen, setModalOpen] = useState(false);\r\n  const [modalAction, setModalAction] = useState(null);\r\n  const [selectedSellerId, setSelectedSellerId] = useState(null);\r\n  const [blockReason, setBlockReason] = useState('');\r\n\r\n  useEffect(() => {\r\n    fetchSellers();\r\n  }, [includeBlocked]);\r\n\r\n  const fetchSellers = async () => {\r\n    try {\r\n      const response = await adminService.getAllSellers(includeBlocked);\r\n      setSellers(response.data.sellers);\r\n    } catch (error) {\r\n      console.error('Error fetching sellers:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleBlockClick = (sellerId) => {\r\n    setSelectedSellerId(sellerId);\r\n    setModalAction('block');\r\n    setModalOpen(true);\r\n  };\r\n\r\n  const handleUnblockClick = (sellerId) => {\r\n    setSelectedSellerId(sellerId);\r\n    setModalAction('unblock');\r\n    setModalOpen(true);\r\n  };\r\n\r\n  const handleConfirmAction = async () => {\r\n    try {\r\n      if (modalAction === 'block') {\r\n        await adminService.blacklistSeller(selectedSellerId, blockReason);\r\n        alert('Seller blocked successfully');\r\n      } else {\r\n        await adminService.unblockSeller(selectedSellerId);\r\n        alert('Seller unblocked successfully');\r\n      }\r\n      fetchSellers();\r\n      setBlockReason('');\r\n    } catch (error) {\r\n      alert('Failed to perform action');\r\n    }\r\n  };\r\n\r\n  if (loading) return <LoadingSpinner fullScreen />;\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50 py-8\">\r\n      <div className=\"container mx-auto px-4\">\r\n        <div className=\"flex justify-between items-center mb-8\">\r\n          <h1 className=\"text-3xl font-bold\">Seller Management</h1>\r\n          <div className=\"flex items-center gap-4\">\r\n            <label className=\"flex items-center cursor-pointer\">\r\n              <input\r\n                type=\"checkbox\"\r\n                checked={includeBlocked}\r\n                onChange={(e) => setIncludeBlocked(e.target.checked)}\r\n                className=\"mr-2\"\r\n              />\r\n              <span className=\"text-sm\">Include Blocked Sellers</span>\r\n            </label>\r\n            <span className=\"text-gray-600\">Total: {sellers.length}</span>\r\n          </div>\r\n        </div>\r\n\r\n        {sellers.length === 0 ? (\r\n          <div className=\"bg-white rounded-lg shadow-md p-12 text-center\">\r\n            <p className=\"text-gray-600\">No sellers found</p>\r\n          </div>\r\n        ) : (\r\n          <SellerTable\r\n            sellers={sellers}\r\n            onBlock={handleBlockClick}\r\n            onUnblock={handleUnblockClick}\r\n          />\r\n        )}\r\n\r\n        <ConfirmModal\r\n          isOpen={modalOpen}\r\n          onClose={() => {\r\n            setModalOpen(false);\r\n            setBlockReason('');\r\n          }}\r\n          onConfirm={handleConfirmAction}\r\n          title={modalAction === 'block' ? 'Block Seller' : 'Unblock Seller'}\r\n          message={\r\n            modalAction === 'block' ? (\r\n              <div>\r\n                <p className=\"mb-4\">Are you sure you want to block this seller?</p>\r\n                <textarea\r\n                  value={blockReason}\r\n                  onChange={(e) => setBlockReason(e.target.value)}\r\n                  placeholder=\"Reason for blocking (optional)\"\r\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg\"\r\n                  rows=\"3\"\r\n                />\r\n              </div>\r\n            ) : (\r\n              'Are you sure you want to unblock this seller?'\r\n            )\r\n          }\r\n          confirmText={modalAction === 'block' ? 'Block' : 'Unblock'}\r\n          danger={modalAction === 'block'}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SellerManagement;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}