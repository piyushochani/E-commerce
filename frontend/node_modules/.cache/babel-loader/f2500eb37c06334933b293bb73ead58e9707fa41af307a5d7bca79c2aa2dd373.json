{"ast":null,"code":"import React,{useState}from'react';import{formatPrice}from'../../utils/helpers';import{useCart}from'../../hooks/useCart';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CartItem=_ref=>{var _item$product_id,_item$product_id2,_item$product_id3,_item$product_id4;let{item}=_ref;const{updateCartItem,removeFromCart}=useCart();const[quantity,setQuantity]=useState(item.quantity);const[loading,setLoading]=useState(false);const handleUpdateQuantity=async newQuantity=>{if(newQuantity<1)return;setLoading(true);setQuantity(newQuantity);await updateCartItem(item._id,newQuantity);setLoading(false);};const handleRemove=async()=>{if(window.confirm('Remove this item from cart?')){setLoading(true);await removeFromCart(item._id);setLoading(false);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-4 bg-white p-4 rounded-lg shadow-md\",children:[/*#__PURE__*/_jsx(\"img\",{src:((_item$product_id=item.product_id)===null||_item$product_id===void 0?void 0:_item$product_id.product_img)||'/assets/images/default-product.png',alt:(_item$product_id2=item.product_id)===null||_item$product_id2===void 0?void 0:_item$product_id2.product_name,className:\"w-24 h-24 object-cover rounded\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold text-lg mb-1\",children:(_item$product_id3=item.product_id)===null||_item$product_id3===void 0?void 0:_item$product_id3.product_name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 text-sm mb-2\",children:(_item$product_id4=item.product_id)===null||_item$product_id4===void 0?void 0:_item$product_id4.product_brand}),/*#__PURE__*/_jsx(\"p\",{className:\"text-blue-600 font-bold\",children:formatPrice(item.price_at_addition)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-end justify-between\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleRemove,disabled:loading,className:\"text-red-600 hover:text-red-700\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleUpdateQuantity(quantity-1),disabled:loading||quantity<=1,className:\"w-8 h-8 rounded border border-gray-300 hover:bg-gray-100 disabled:opacity-50\",children:\"-\"}),/*#__PURE__*/_jsx(\"span\",{className:\"w-12 text-center font-medium\",children:quantity}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleUpdateQuantity(quantity+1),disabled:loading,className:\"w-8 h-8 rounded border border-gray-300 hover:bg-gray-100 disabled:opacity-50\",children:\"+\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"font-bold text-lg\",children:formatPrice(item.price_at_addition*quantity)})]})]});};export default CartItem;","map":{"version":3,"names":["React","useState","formatPrice","useCart","jsx","_jsx","jsxs","_jsxs","CartItem","_ref","_item$product_id","_item$product_id2","_item$product_id3","_item$product_id4","item","updateCartItem","removeFromCart","quantity","setQuantity","loading","setLoading","handleUpdateQuantity","newQuantity","_id","handleRemove","window","confirm","className","children","src","product_id","product_img","alt","product_name","product_brand","price_at_addition","onClick","disabled","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d"],"sources":["C:/Users/piyus/OneDrive/Documents/Workspaces/E-commerce/frontend/src/components/customer/CartItem.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { formatPrice } from '../../utils/helpers';\r\nimport { useCart } from '../../hooks/useCart';\r\n\r\nconst CartItem = ({ item }) => {\r\n  const { updateCartItem, removeFromCart } = useCart();\r\n  const [quantity, setQuantity] = useState(item.quantity);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const handleUpdateQuantity = async (newQuantity) => {\r\n    if (newQuantity < 1) return;\r\n    setLoading(true);\r\n    setQuantity(newQuantity);\r\n    await updateCartItem(item._id, newQuantity);\r\n    setLoading(false);\r\n  };\r\n\r\n  const handleRemove = async () => {\r\n    if (window.confirm('Remove this item from cart?')) {\r\n      setLoading(true);\r\n      await removeFromCart(item._id);\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex gap-4 bg-white p-4 rounded-lg shadow-md\">\r\n      {/* Product Image */}\r\n      <img\r\n        src={item.product_id?.product_img || '/assets/images/default-product.png'}\r\n        alt={item.product_id?.product_name}\r\n        className=\"w-24 h-24 object-cover rounded\"\r\n      />\r\n\r\n      {/* Product Details */}\r\n      <div className=\"flex-1\">\r\n        <h3 className=\"font-semibold text-lg mb-1\">{item.product_id?.product_name}</h3>\r\n        <p className=\"text-gray-600 text-sm mb-2\">{item.product_id?.product_brand}</p>\r\n        <p className=\"text-blue-600 font-bold\">{formatPrice(item.price_at_addition)}</p>\r\n      </div>\r\n\r\n      {/* Quantity Controls */}\r\n      <div className=\"flex flex-col items-end justify-between\">\r\n        <button\r\n          onClick={handleRemove}\r\n          disabled={loading}\r\n          className=\"text-red-600 hover:text-red-700\"\r\n        >\r\n          <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\r\n          </svg>\r\n        </button>\r\n\r\n        <div className=\"flex items-center gap-2\">\r\n          <button\r\n            onClick={() => handleUpdateQuantity(quantity - 1)}\r\n            disabled={loading || quantity <= 1}\r\n            className=\"w-8 h-8 rounded border border-gray-300 hover:bg-gray-100 disabled:opacity-50\"\r\n          >\r\n            -\r\n          </button>\r\n          <span className=\"w-12 text-center font-medium\">{quantity}</span>\r\n          <button\r\n            onClick={() => handleUpdateQuantity(quantity + 1)}\r\n            disabled={loading}\r\n            className=\"w-8 h-8 rounded border border-gray-300 hover:bg-gray-100 disabled:opacity-50\"\r\n          >\r\n            +\r\n          </button>\r\n        </div>\r\n\r\n        <p className=\"font-bold text-lg\">{formatPrice(item.price_at_addition * quantity)}</p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CartItem;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}