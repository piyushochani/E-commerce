{"ast":null,"code":"import React from'react';import{Link,useNavigate}from'react-router-dom';import{formatPrice}from'../../utils/helpers';import{useCart}from'../../hooks/useCart';import{useAuth}from'../../hooks/useAuth';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ProductCard=_ref=>{let{product}=_ref;const{addToCart}=useCart();const{isAuthenticated,isCustomer}=useAuth();const navigate=useNavigate();const[loading,setLoading]=React.useState(false);const handleAddToCart=async e=>{e.preventDefault();if(!isAuthenticated||!isCustomer){navigate('/customer/login');return;}setLoading(true);const result=await addToCart(product._id,1);setLoading(false);if(result.success){alert('Added to cart!');}else{alert('Failed to add to cart');}};return/*#__PURE__*/_jsx(Link,{to:\"/customer/products/\".concat(product._id),className:\"block\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-xl transition group\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative h-64 bg-gray-200 overflow-hidden\",children:[/*#__PURE__*/_jsx(\"img\",{src:product.product_img||'/assets/images/default-product.png',alt:product.product_name,className:\"w-full h-full object-cover group-hover:scale-110 transition duration-300\"}),product.product_quantity===0&&/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-white font-bold text-xl\",children:\"Out of Stock\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold text-lg mb-2 truncate\",children:product.product_name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 text-sm mb-2 line-clamp-2\",children:product.product_description}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-blue-600 font-bold text-xl\",children:formatPrice(product.product_price)}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-500 text-sm\",children:product.product_brand})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-gray-600\",children:[\"Stock: \",product.product_quantity]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleAddToCart,disabled:product.product_quantity===0||loading,className:\"px-4 py-2 rounded-lg text-sm font-medium transition \".concat(product.product_quantity===0?'bg-gray-300 text-gray-500 cursor-not-allowed':'bg-blue-600 text-white hover:bg-blue-700'),children:loading?'Adding...':'Add to Cart'})]})]})]})});};export default ProductCard;","map":{"version":3,"names":["React","Link","useNavigate","formatPrice","useCart","useAuth","jsx","_jsx","jsxs","_jsxs","ProductCard","_ref","product","addToCart","isAuthenticated","isCustomer","navigate","loading","setLoading","useState","handleAddToCart","e","preventDefault","result","_id","success","alert","to","concat","className","children","src","product_img","alt","product_name","product_quantity","product_description","product_price","product_brand","onClick","disabled"],"sources":["C:/Users/piyus/OneDrive/Documents/Workspaces/E-commerce/frontend/src/components/customer/ProductCard.jsx"],"sourcesContent":["import React from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport { formatPrice } from '../../utils/helpers';\r\nimport { useCart } from '../../hooks/useCart';\r\nimport { useAuth } from '../../hooks/useAuth';\r\n\r\nconst ProductCard = ({ product }) => {\r\n  const { addToCart } = useCart();\r\n  const { isAuthenticated, isCustomer } = useAuth();\r\n  const navigate = useNavigate();\r\n  const [loading, setLoading] = React.useState(false);\r\n\r\n  const handleAddToCart = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    if (!isAuthenticated || !isCustomer) {\r\n      navigate('/customer/login');\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    const result = await addToCart(product._id, 1);\r\n    setLoading(false);\r\n\r\n    if (result.success) {\r\n      alert('Added to cart!');\r\n    } else {\r\n      alert('Failed to add to cart');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Link to={`/customer/products/${product._id}`} className=\"block\">\r\n      <div className=\"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-xl transition group\">\r\n        {/* Product Image */}\r\n        <div className=\"relative h-64 bg-gray-200 overflow-hidden\">\r\n          <img\r\n            src={product.product_img || '/assets/images/default-product.png'}\r\n            alt={product.product_name}\r\n            className=\"w-full h-full object-cover group-hover:scale-110 transition duration-300\"\r\n          />\r\n          {product.product_quantity === 0 && (\r\n            <div className=\"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center\">\r\n              <span className=\"text-white font-bold text-xl\">Out of Stock</span>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Product Info */}\r\n        <div className=\"p-4\">\r\n          <h3 className=\"font-semibold text-lg mb-2 truncate\">{product.product_name}</h3>\r\n          <p className=\"text-gray-600 text-sm mb-2 line-clamp-2\">{product.product_description}</p>\r\n          \r\n          <div className=\"flex items-center justify-between mb-2\">\r\n            <span className=\"text-blue-600 font-bold text-xl\">\r\n              {formatPrice(product.product_price)}\r\n            </span>\r\n            <span className=\"text-gray-500 text-sm\">\r\n              {product.product_brand}\r\n            </span>\r\n          </div>\r\n\r\n          <div className=\"flex items-center justify-between\">\r\n            <span className=\"text-sm text-gray-600\">\r\n              Stock: {product.product_quantity}\r\n            </span>\r\n            <button\r\n              onClick={handleAddToCart}\r\n              disabled={product.product_quantity === 0 || loading}\r\n              className={`px-4 py-2 rounded-lg text-sm font-medium transition ${\r\n                product.product_quantity === 0\r\n                  ? 'bg-gray-300 text-gray-500 cursor-not-allowed'\r\n                  : 'bg-blue-600 text-white hover:bg-blue-700'\r\n              }`}\r\n            >\r\n              {loading ? 'Adding...' : 'Add to Cart'}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Link>\r\n  );\r\n};\r\n\r\nexport default ProductCard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}