{"ast":null,"code":"import React,{useState,useEffect}from'react';import{orderService}from'../../services/orderService';import OrderTable from'../../components/admin/OrderTable';import LoadingSpinner from'../../components/common/LoadingSpinner';import{ORDER_STATUS}from'../../utils/constants';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const OrderManagement=()=>{const[orders,setOrders]=useState([]);const[loading,setLoading]=useState(true);const[filter,setFilter]=useState('all');useEffect(()=>{fetchOrders();},[]);const fetchOrders=async()=>{try{// Since we don't have a specific admin endpoint for all orders,\n// we'll use the customer orders endpoint\n// In a real application, you would create an admin-specific endpoint\nconst response=await orderService.getCustomerOrders();setOrders(response.data.orders);}catch(error){console.error('Error fetching orders:',error);}finally{setLoading(false);}};const filteredOrders=filter==='all'?orders:orders.filter(order=>order.order_status===filter);if(loading)return/*#__PURE__*/_jsx(LoadingSpinner,{fullScreen:true});return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-50 py-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto px-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-8\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold\",children:\"Order Management\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-gray-600\",children:[\"Total: \",filteredOrders.length,\" orders\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-md mb-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex overflow-x-auto\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setFilter('all'),className:\"px-6 py-3 font-medium whitespace-nowrap \".concat(filter==='all'?'text-blue-600 border-b-2 border-blue-600':'text-gray-600 hover:text-gray-900'),children:[\"All Orders (\",orders.length,\")\"]}),ORDER_STATUS.map(status=>{const count=orders.filter(o=>o.order_status===status).length;return/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setFilter(status),className:\"px-6 py-3 font-medium capitalize whitespace-nowrap \".concat(filter===status?'text-blue-600 border-b-2 border-blue-600':'text-gray-600 hover:text-gray-900'),children:[status,\" (\",count,\")\"]},status);})]})}),filteredOrders.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-12 text-center\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-24 h-24 mx-auto mb-4 text-gray-400\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"})}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-semibold mb-2\",children:\"No orders found\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:filter==='all'?'Orders will appear here once customers place them':\"No \".concat(filter,\" orders found\")})]}):/*#__PURE__*/_jsx(OrderTable,{orders:filteredOrders})]})});};export default OrderManagement;","map":{"version":3,"names":["React","useState","useEffect","orderService","OrderTable","LoadingSpinner","ORDER_STATUS","jsx","_jsx","jsxs","_jsxs","OrderManagement","orders","setOrders","loading","setLoading","filter","setFilter","fetchOrders","response","getCustomerOrders","data","error","console","filteredOrders","order","order_status","fullScreen","className","children","length","onClick","concat","map","status","count","o","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d"],"sources":["C:/Users/piyus/OneDrive/Documents/Workspaces/E-commerce/frontend/src/pages/admin/OrderManagement.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { orderService } from '../../services/orderService';\r\nimport OrderTable from '../../components/admin/OrderTable';\r\nimport LoadingSpinner from '../../components/common/LoadingSpinner';\r\nimport { ORDER_STATUS } from '../../utils/constants';\r\n\r\nconst OrderManagement = () => {\r\n  const [orders, setOrders] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [filter, setFilter] = useState('all');\r\n\r\n  useEffect(() => {\r\n    fetchOrders();\r\n  }, []);\r\n\r\n  const fetchOrders = async () => {\r\n    try {\r\n      // Since we don't have a specific admin endpoint for all orders,\r\n      // we'll use the customer orders endpoint\r\n      // In a real application, you would create an admin-specific endpoint\r\n      const response = await orderService.getCustomerOrders();\r\n      setOrders(response.data.orders);\r\n    } catch (error) {\r\n      console.error('Error fetching orders:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const filteredOrders = filter === 'all' \r\n    ? orders \r\n    : orders.filter(order => order.order_status === filter);\r\n\r\n  if (loading) return <LoadingSpinner fullScreen />;\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50 py-8\">\r\n      <div className=\"container mx-auto px-4\">\r\n        <div className=\"flex justify-between items-center mb-8\">\r\n          <h1 className=\"text-3xl font-bold\">Order Management</h1>\r\n          <div className=\"text-gray-600\">\r\n            Total: {filteredOrders.length} orders\r\n          </div>\r\n        </div>\r\n\r\n        {/* Filter Tabs */}\r\n        <div className=\"bg-white rounded-lg shadow-md mb-6\">\r\n          <div className=\"flex overflow-x-auto\">\r\n            <button\r\n              onClick={() => setFilter('all')}\r\n              className={`px-6 py-3 font-medium whitespace-nowrap ${\r\n                filter === 'all'\r\n                  ? 'text-blue-600 border-b-2 border-blue-600'\r\n                  : 'text-gray-600 hover:text-gray-900'\r\n              }`}\r\n            >\r\n              All Orders ({orders.length})\r\n            </button>\r\n            {ORDER_STATUS.map((status) => {\r\n              const count = orders.filter(o => o.order_status === status).length;\r\n              return (\r\n                <button\r\n                  key={status}\r\n                  onClick={() => setFilter(status)}\r\n                  className={`px-6 py-3 font-medium capitalize whitespace-nowrap ${\r\n                    filter === status\r\n                      ? 'text-blue-600 border-b-2 border-blue-600'\r\n                      : 'text-gray-600 hover:text-gray-900'\r\n                  }`}\r\n                >\r\n                  {status} ({count})\r\n                </button>\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n\r\n        {filteredOrders.length === 0 ? (\r\n          <div className=\"bg-white rounded-lg shadow-md p-12 text-center\">\r\n            <svg className=\"w-24 h-24 mx-auto mb-4 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\r\n            </svg>\r\n            <h2 className=\"text-2xl font-semibold mb-2\">No orders found</h2>\r\n            <p className=\"text-gray-600\">\r\n              {filter === 'all' \r\n                ? 'Orders will appear here once customers place them' \r\n                : `No ${filter} orders found`}\r\n            </p>\r\n          </div>\r\n        ) : (\r\n          <OrderTable orders={filteredOrders} />\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OrderManagement;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}