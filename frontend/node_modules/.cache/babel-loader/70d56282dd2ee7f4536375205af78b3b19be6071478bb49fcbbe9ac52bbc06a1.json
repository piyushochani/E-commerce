{"ast":null,"code":"import React,{useState,useEffect}from'react';import{productService}from'../../services/productService';import ProductTable from'../../components/seller/ProductTable';import LoadingSpinner from'../../components/common/LoadingSpinner';import ConfirmModal from'../../components/common/ConfirmModal';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ProductList=()=>{const[products,setProducts]=useState([]);const[loading,setLoading]=useState(true);const[deleteModalOpen,setDeleteModalOpen]=useState(false);const[selectedProductId,setSelectedProductId]=useState(null);useEffect(()=>{fetchProducts();},[]);const fetchProducts=async()=>{try{const response=await productService.getSellerProducts();setProducts(response.data.products);}catch(error){console.error('Error fetching products:',error);}finally{setLoading(false);}};const handleDeleteClick=productId=>{setSelectedProductId(productId);setDeleteModalOpen(true);};const handleConfirmDelete=async()=>{try{await productService.deleteProduct(selectedProductId);alert('Product deleted successfully');fetchProducts();}catch(error){alert('Failed to delete product');}};if(loading)return/*#__PURE__*/_jsx(LoadingSpinner,{fullScreen:true});return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-50 py-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto px-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-8\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold\",children:\"My Products\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600\",children:[\"Total: \",products.length,\" products\"]})]}),products.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-12 text-center\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-24 h-24 mx-auto mb-4 text-gray-400\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4\"})}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-semibold mb-2\",children:\"No products yet\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Start by adding your first product\"})]}):/*#__PURE__*/_jsx(ProductTable,{products:products,onDelete:handleDeleteClick}),/*#__PURE__*/_jsx(ConfirmModal,{isOpen:deleteModalOpen,onClose:()=>setDeleteModalOpen(false),onConfirm:handleConfirmDelete,title:\"Delete Product\",message:\"Are you sure you want to delete this product? This action cannot be undone.\",confirmText:\"Delete\",danger:true})]})});};export default ProductList;","map":{"version":3,"names":["React","useState","useEffect","productService","ProductTable","LoadingSpinner","ConfirmModal","jsx","_jsx","jsxs","_jsxs","ProductList","products","setProducts","loading","setLoading","deleteModalOpen","setDeleteModalOpen","selectedProductId","setSelectedProductId","fetchProducts","response","getSellerProducts","data","error","console","handleDeleteClick","productId","handleConfirmDelete","deleteProduct","alert","fullScreen","className","children","length","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","onDelete","isOpen","onClose","onConfirm","title","message","confirmText","danger"],"sources":["C:/Users/piyus/OneDrive/Documents/Workspaces/E-commerce/frontend/src/pages/seller/ProductList.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { productService } from '../../services/productService';\r\nimport ProductTable from '../../components/seller/ProductTable';\r\nimport LoadingSpinner from '../../components/common/LoadingSpinner';\r\nimport ConfirmModal from '../../components/common/ConfirmModal';\r\n\r\nconst ProductList = () => {\r\n  const [products, setProducts] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [deleteModalOpen, setDeleteModalOpen] = useState(false);\r\n  const [selectedProductId, setSelectedProductId] = useState(null);\r\n\r\n  useEffect(() => {\r\n    fetchProducts();\r\n  }, []);\r\n\r\n  const fetchProducts = async () => {\r\n    try {\r\n      const response = await productService.getSellerProducts();\r\n      setProducts(response.data.products);\r\n    } catch (error) {\r\n      console.error('Error fetching products:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleDeleteClick = (productId) => {\r\n    setSelectedProductId(productId);\r\n    setDeleteModalOpen(true);\r\n  };\r\n\r\n  const handleConfirmDelete = async () => {\r\n    try {\r\n      await productService.deleteProduct(selectedProductId);\r\n      alert('Product deleted successfully');\r\n      fetchProducts();\r\n    } catch (error) {\r\n      alert('Failed to delete product');\r\n    }\r\n  };\r\n\r\n  if (loading) return <LoadingSpinner fullScreen />;\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50 py-8\">\r\n      <div className=\"container mx-auto px-4\">\r\n        <div className=\"flex justify-between items-center mb-8\">\r\n          <h1 className=\"text-3xl font-bold\">My Products</h1>\r\n          <p className=\"text-gray-600\">Total: {products.length} products</p>\r\n        </div>\r\n\r\n        {products.length === 0 ? (\r\n          <div className=\"bg-white rounded-lg shadow-md p-12 text-center\">\r\n            <svg className=\"w-24 h-24 mx-auto mb-4 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4\" />\r\n            </svg>\r\n            <h2 className=\"text-2xl font-semibold mb-2\">No products yet</h2>\r\n            <p className=\"text-gray-600\">Start by adding your first product</p>\r\n          </div>\r\n        ) : (\r\n          <ProductTable products={products} onDelete={handleDeleteClick} />\r\n        )}\r\n\r\n        <ConfirmModal\r\n          isOpen={deleteModalOpen}\r\n          onClose={() => setDeleteModalOpen(false)}\r\n          onConfirm={handleConfirmDelete}\r\n          title=\"Delete Product\"\r\n          message=\"Are you sure you want to delete this product? This action cannot be undone.\"\r\n          confirmText=\"Delete\"\r\n          danger={true}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductList;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}