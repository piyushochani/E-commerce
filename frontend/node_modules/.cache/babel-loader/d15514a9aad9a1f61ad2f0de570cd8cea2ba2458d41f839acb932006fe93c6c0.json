{"ast":null,"code":"import React from'react';import{Link}from'react-router-dom';import{formatPrice}from'../../utils/helpers';import{useCart}from'../../hooks/useCart';import{useAuth}from'../../hooks/useAuth';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ProductCard=_ref=>{let{product}=_ref;const{addToCart}=useCart();const{isAuthenticated,isCustomer}=useAuth();const[loading,setLoading]=React.useState(false);const handleAddToCart=async e=>{e.preventDefault();if(!isAuthenticated||!isCustomer){alert('Please login as a customer to add items to cart');return;}setLoading(true);const result=await addToCart(product._id,1);setLoading(false);if(result.success){alert('Added to cart!');}else{alert('Failed to add to cart');}};return/*#__PURE__*/_jsx(Link,{to:\"/customer/products/\".concat(product._id),className:\"block\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-xl transition group\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative h-64 bg-gray-200 overflow-hidden\",children:[/*#__PURE__*/_jsx(\"img\",{src:product.product_img||'/assets/images/default-product.png',alt:product.product_name,className:\"w-full h-full object-cover group-hover:scale-110 transition duration-300\"}),product.product_quantity===0&&/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-white font-bold text-xl\",children:\"Out of Stock\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold text-lg mb-2 truncate\",children:product.product_name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 text-sm mb-2 line-clamp-2\",children:product.product_description}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-blue-600 font-bold text-xl\",children:formatPrice(product.product_price)}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-500 text-sm\",children:product.product_brand})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-gray-600\",children:[\"Stock: \",product.product_quantity]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleAddToCart,disabled:product.product_quantity===0||loading,className:\"px-4 py-2 rounded-lg text-sm font-medium transition \".concat(product.product_quantity===0?'bg-gray-300 text-gray-500 cursor-not-allowed':'bg-blue-600 text-white hover:bg-blue-700'),children:loading?'Adding...':'Add to Cart'})]})]})]})});};export default ProductCard;","map":{"version":3,"names":["React","Link","formatPrice","useCart","useAuth","jsx","_jsx","jsxs","_jsxs","ProductCard","_ref","product","addToCart","isAuthenticated","isCustomer","loading","setLoading","useState","handleAddToCart","e","preventDefault","alert","result","_id","success","to","concat","className","children","src","product_img","alt","product_name","product_quantity","product_description","product_price","product_brand","onClick","disabled"],"sources":["C:/Users/piyus/OneDrive/Documents/Workspaces/E-commerce/frontend/src/components/customer/ProductCard.jsx"],"sourcesContent":["import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { formatPrice } from '../../utils/helpers';\r\nimport { useCart } from '../../hooks/useCart';\r\nimport { useAuth } from '../../hooks/useAuth';\r\n\r\nconst ProductCard = ({ product }) => {\r\n  const { addToCart } = useCart();\r\n  const { isAuthenticated, isCustomer } = useAuth();\r\n  const [loading, setLoading] = React.useState(false);\r\n\r\n  const handleAddToCart = async (e) => {\r\n    e.preventDefault();\r\n    if (!isAuthenticated || !isCustomer) {\r\n      alert('Please login as a customer to add items to cart');\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    const result = await addToCart(product._id, 1);\r\n    setLoading(false);\r\n\r\n    if (result.success) {\r\n      alert('Added to cart!');\r\n    } else {\r\n      alert('Failed to add to cart');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Link to={`/customer/products/${product._id}`} className=\"block\">\r\n      <div className=\"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-xl transition group\">\r\n        {/* Product Image */}\r\n        <div className=\"relative h-64 bg-gray-200 overflow-hidden\">\r\n          <img\r\n            src={product.product_img || '/assets/images/default-product.png'}\r\n            alt={product.product_name}\r\n            className=\"w-full h-full object-cover group-hover:scale-110 transition duration-300\"\r\n          />\r\n          {product.product_quantity === 0 && (\r\n            <div className=\"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center\">\r\n              <span className=\"text-white font-bold text-xl\">Out of Stock</span>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Product Info */}\r\n        <div className=\"p-4\">\r\n          <h3 className=\"font-semibold text-lg mb-2 truncate\">{product.product_name}</h3>\r\n          <p className=\"text-gray-600 text-sm mb-2 line-clamp-2\">{product.product_description}</p>\r\n          \r\n          <div className=\"flex items-center justify-between mb-2\">\r\n            <span className=\"text-blue-600 font-bold text-xl\">\r\n              {formatPrice(product.product_price)}\r\n            </span>\r\n            <span className=\"text-gray-500 text-sm\">\r\n              {product.product_brand}\r\n            </span>\r\n          </div>\r\n\r\n          <div className=\"flex items-center justify-between\">\r\n            <span className=\"text-sm text-gray-600\">\r\n              Stock: {product.product_quantity}\r\n            </span>\r\n            <button\r\n              onClick={handleAddToCart}\r\n              disabled={product.product_quantity === 0 || loading}\r\n              className={`px-4 py-2 rounded-lg text-sm font-medium transition ${\r\n                product.product_quantity === 0\r\n                  ? 'bg-gray-300 text-gray-500 cursor-not-allowed'\r\n                  : 'bg-blue-600 text-white hover:bg-blue-700'\r\n              }`}\r\n            >\r\n              {loading ? 'Adding...' : 'Add to Cart'}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Link>\r\n  );\r\n};\r\n\r\nexport default ProductCard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}